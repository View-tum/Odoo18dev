<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="1">
        <record id="action_server_preview_contract" model="ir.actions.server">
            <field name="name">Preview Contract Attachment</field>
            <field name="model_id" ref="contract_documents.model_contract_document" />
            <field name="state">code</field>
            <field name="code">action = {
                'type': 'ir.actions.act_url',
                'url':
                '/web/content/?model=contract.document&amp;id=%s&amp;field=attachment&amp;filename_field=attachment_filename&amp;download=false'
                % (record.id),
                'target': 'new',
                }</field>
        </record>
        
        <record id="action_server_send_contract_reminders" model="ir.actions.server">
            <field name="name">Run Contract Reminder Check (Daily)</field>
            <field name="model_id" ref="contract_documents.model_contract_document" />
            <field name="state">code</field>
            <field name="code">
# This server action will send reminder emails for all contracts whose remaining days
# equal their configured threshold (7/30/60/90). You can run this manually for testing.
model.send_reminder()
            </field>
        </record>
        
        <record id="action_server_send_contract_reminders_force" model="ir.actions.server">
            <field name="name">Force Send Contract Reminders (Threshold Today)</field>
            <field name="model_id" ref="contract_documents.model_contract_document" />
            <field name="state">code</field>
            <field name="code">
# This server action will force-send reminder emails for contracts matching
# their threshold today. Used for testing purposes.
model.send_reminder_force()
            </field>
        </record>
    </data>
</odoo>