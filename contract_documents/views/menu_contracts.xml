<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Window action to show contracts grouped by partner -->
    <record id="action_contracts_by_partner" model="ir.actions.act_window">
        <field name="name">Contracts by Partner</field>
        <field name="res_model">contract.document</field>
        <field name="view_mode">list,form</field>
        <field name="context">{"group_by":"partner_id"}</field>
        <field name="search_view_id" ref="view_contract_document_search" />
    </record>

    <menuitem id="menu_contracts_by_partner" name="Contracts" parent="contacts.menu_contacts" />

    <!-- Child entry: Contracts by Partner -->
    <menuitem id="menu_contracts_by_partner_action" name="Contracts by Partner"
        parent="menu_contracts_by_partner" action="action_contracts_by_partner" />

    <!-- Action & menu to view contracts ordered by expiry date -->
    <record id="action_contracts_by_expiry" model="ir.actions.act_window">
        <field name="name">Contracts by Expiry</field>
        <field name="res_model">contract.document</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_contract_document_tree_by_expiry" />
        <field name="search_view_id" ref="view_contract_document_search" />
    </record>

    <menuitem id="menu_contracts_by_expiry" name="Contracts by Expiry"
        parent="menu_contracts_by_partner"
        action="action_contracts_by_expiry" />
</odoo>